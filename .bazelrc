# Use default Bazel Central Registry first, then custom registry for verilator
common --registry=https://bcr.bazel.build
common --registry=https://raw.githubusercontent.com/UebelAndre/bazel-central-registry/verilator

build --action_env=BAZEL_CXXOPTS="-std=c++17"
build --cxxopt='-std=c++17'
build --conlyopt='-std=gnu11'

# Disable the low signal-to-noise ratio warnings
build --copt=-Wno-unused-function

# Disable tool build warnings. The tools are fetched/generated from OSS repos
build --host_copt=-Wno-unused-variable
build --host_copt=-Wno-unused-value
build --host_copt=-Wno-uninitialized
build --host_copt=-O3

# This lets us generate key/value pairs for the workspace which can be used to
# generate the version information.

# build --workspace_status_command=utils/get_workspace_status.sh

build --experimental_cc_shared_library
build --java_runtime_version=remotejdk_11

build:debug --define=WAVE_ON=1

# fix readonly error when using ccache
build --strategy=CppCompile=local
build --strategy=CppLink=local

# For 3rd party code: Disable warnings entirely.
# They are not actionable and just create noise.
build --per_file_copt=external/.*@-w
build --host_per_file_copt=external/.*@-w
